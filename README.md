# A Systematic Evaluation of Generative Models on Tabular Transportation Data

This is the implementation of the paper [*A Systematic Evaluation of Generative Models on Tabular Transportation Data*](https://www.arxiv.org/abs/2502.08856). The paper has been accepted to PAKDD 2025 Special Session.


In the repository, the folders `sdv` and `ctgan` were copied from [sdv 1.9.0](https://github.com/sdv-dev/SDV) and [ctgan 0.8.0](https://github.com/sdv-dev/CTGAN) respectively, then were modified. We also used code from [ForestDiffusion](https://github.com/SamsungSAILMontreal/ForestDiffusion).

## Requirements
Create a new Conda environment and install `PyTorch`:

```bash
conda install pytorch==2.5.1 torchvision==0.20.1 torchaudio==2.5.1  pytorch-cuda=11.8 -c pytorch -c nvidia
```

Install other libraries:

```bash
pip install setGPU pandas termcolor POT scikit-learn scipy matplotlib copulas rdt graphviz cloudpickle tqdm sdmetrics deepecho sdv tensorboard icecream category-encoders tomli-w ml-collections wget seaborn pyarrow

pip install tensorflow[and-cuda] # stasy
```

## Datasets
The processed dataset is under folder `dataset/`. Each dataset is generated by randomly sampling from the original taxi trips data as described in the paper.

## Run the Code
**Trial run:**

```bash
python tab_main.py --dataset green --nums 1000 --methods GaussianCopula --outfile file_name
```

`--dataset`: the dataset to use, either `green` or `zone`, which represents green taxi trips with longitue/latitude info or zone info.

`--methods`: specifying the generative model. If not specified, run all methods by default.

`--nums:` the dataset size.

**Run all methods:**

```bash
python tab_main.py --dataset green --nums 40000 --outfile file_name
``` 

The experimental results are saved in the file specified by `--outfile` under the folder `output`.

**Check graph similarity metric:**

```bash
python tab_main.py --dataset zone --nums 40000 --outfile file_name --no_sdv --no_prv
```

`--no_sdv`, `--no_prv`: ignore sdv/privacy calculation to speed up, optional

Note: use dataset `zone` for graph metric, as it requires `zone` instead of `longitude/latitude`.

**Generate the figures:**

```bash
python data_util.py
```

## Citation

```bibtex
@article{wang2025systematic,
  title={A Systematic Evaluation of Generative Models on Tabular Transportation Data},
  author={Wang, Chengen and Cardenas, Alvaro and Comert, Gurcan and Kantarcioglu, Murat},
  journal={arXiv preprint arXiv:2502.08856},
  year={2025}
}
```
